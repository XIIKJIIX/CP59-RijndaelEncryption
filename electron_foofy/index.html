<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>RijndaelEncryption</title>
    <link rel="stylesheet" href="css/main.css">
    <style>
        body{
            background: url('img/bbg1.jpg');
    }
    </style>
</head>
<body>
<header>
    <img src="img/close.svg" alt="more" width="50px" class="close" onclick="window.close()">
    <div class="dropdown">
        <img src="img/more.svg" alt="more" width="50px" class="dropbtn">
        <div class="dropdown-content">
            <a href="index2.html">Encrypt Text</a>
            <a href="index3.html">Decrypt File</a>
            <a href="index4.html">Decrypt Text</a>
        </div>
    </div>
</header>
<section class="main">
    <h1 class="headline">Encrypt File</h1>
    <div class="our-box" id="ourbox">
        <img src="img/upload.svg" alt="upload">
        <label for="password">Password for encrypt</label><input type="password" id="password" maxlength="16">
    </div>
    <button class="button button1" onclick="add_va()" type="submit">Encrypt</button>
    <output id="list"></output>
</section>

<script>
    function add_va() {
        var exec = require("child_process").exec;
        opener = opener[0].split(file_name);
        password = (document.getElementById("password").value);
        console.log(file_name)
        console.log(password)
        var command = __dirname+'/rijndael -f '+'"'+paths[0]+'"'+' -p '+'"'+password+'"'+' --encrypt'+'&& open '+opener[0]
        exec(command, (error, stdout, stderr) => {
            if (error) {
                console.error(`exec error: ${error}`);
                return;
            }
            console.log(`stdout: ${stdout}`);
        console.log(`stderr: ${stderr}`);
        var success = [];
        success.push(stdout)
        document.getElementById('list').innerHTML = '<textarea readonly="readonly">' + success.join('') + '</textarea>';
    });
    }
</script>
<script src="dragdrop.js"></script>
</body>
</html>